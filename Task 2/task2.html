<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 4 : Task 2</title>
    <link 
        rel="stylesheet" 
        href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <style>
        #boxes { 
            margin-top: 50px; 
            float: left; 
            width: 100%;
        }

        #toggles { 
            float: left; 
            width: 100%; 
            margin-top: 10px; 
        }

        #info { 
            float: left; 
            margin-top: 5px; 
        }

        .box { 
            width: 50px; 
            height: 50px; 
            float: left; 
        }

        .outlined { 
            border: 2px solid black; 
        }

        .round-edge { 
            border-radius: 15px; 
        }

        .teal { 
            background-color: teal; 
        }
    </style>
    <script
        src="https://code.jquery.com/jquery-3.1.1.js"
        integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA="
        crossorigin="anonymous">
    </script>
    <script>
        var colorTeal = "rgb(57, 204, 204)";

        $(document).ready(function(){

            // Add button_toggle_colors click function
            $('#button_toggle_colors').click(function() {
                // Get box1
                var box1 = $('#box1');

                // Check and change background color of box1
                if ($(box1).css('background-color') == colorTeal) {
                    // Remove the color
                    $(box1).css('background-color', '');
                }
                else {
                    // Put back colorTeal as background
                    $(box1).css('background-color', colorTeal);
                }
            });

            // Add button_toggle_roundedges click function
            $('#button_toggle_roundedges').click(function() {
                $('.box').each(function() {
                    if ($(this).hasClass('round-edge')){
                        $(this).removeClass('round-edge');
                    }
                    else {
                        $(this).addClass('round-edge');
                    }
                })
            });

            // Add button_add_box click function
            $('#button_add_box').click(function() {
                // Create new element using javascript
                var new_box = document.createElement('div');

                // Get current number of element with class .box
                var existingBoxes = $('.box').length;

                // With the current number of box create new id for new box
                var nextBoxId = existingBoxes + 1;
                $(new_box).attr('id', 'box' + nextBoxId);

                // Add two classes (box and outlined) to new_box
                $(new_box).addClass('box');
                $(new_box).addClass('outlined');

                // Finally, attached new box into box container
                $('#boxes').append(new_box);
            });

            var isShowingRandomBox = false; // Flag to track current state

            // Add button_show_random_box click function
            $('#button_show_random_box').click(function() {
                var boxes = $('.box');

                if (isShowingRandomBox) {
                    // Remove outlined class from all boxes
                    boxes.addClass('outlined');
                    isShowingRandomBox = false;
                } else {
                    // Remove outlined class from all boxes
                    boxes.removeClass('outlined');

                    // Add outlined class to a random box
                    var randomIndex = Math.floor(Math.random() * boxes.length);
                    boxes.eq(randomIndex).addClass('outlined');
                    isShowingRandomBox = true;
                }
            });
        });
    </script>
</head>
<body>

    <div class="container">

        <div id="boxes">
            <div id="box1" class="box outlined"></div>
            <div id="box2" class="box outlined"></div>
            <div id="box3" class="box outlined"></div>
        </div>
  
        <div id="toggles">
            <h2>Toggles</h2>
            <button class="btn" id="button_toggle_colors">Toggle Colors</button>
            <button class="btn" id="button_toggle_roundedges">Toggle Rounded Borders</button>
            <button class="btn" id="button_add_box">Add a New Box</button>
            <button class="btn" id="button_show_random_box">Show Random Box</button>
        </div>
  
    </div>
    
</body>
</html>